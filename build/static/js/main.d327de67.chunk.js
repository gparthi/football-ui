(this["webpackJsonpmy-blog"]=this["webpackJsonpmy-blog"]||[]).push([[0],{13:function(e,t,a){},14:function(e,t,a){},15:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),l=a(7),c=a.n(l),s=(a(13),a(1)),r=a(2),i=a(4),u=a(3),m=a(5),d=a.n(m),g=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).state={teams:[],selectedTeam:"",validationError:"",leagueId:"",standings:"",leagueName:"",countryName:""},e}return Object(r.a)(a,[{key:"fetchStandings",value:function(e){var t=this;d()("/football/standings/".concat(this.state.leagueId)).then((function(e){return console.log("TeamSelection fetchStandings response - ".concat(JSON.stringify(e))),e.json()})).then((function(a){a.forEach((function(a){a.team_id===e&&(t.setState({standings:a.overall_league_position}),t.setState({leagueName:a.league_name}),t.setState({countryName:a.country_name}))}))}))}},{key:"updateTeams",value:function(e){var t=this;console.log("LeagueSelection updateLeagues ".concat(e)),this.setState({leagueId:e}),d()("/football/teams/".concat(e)).then((function(e){return console.log("in componentDidMount response - ".concat(JSON.stringify(e))),e.json()})).then((function(e){var a=[];e.forEach((function(e){console.log("element is ".concat(e.league_name)),a.push({value:e.team_key,display:e.team_name})})),console.log("teamsFromApi is ".concat(a)),t.setState({teams:[{value:"",display:"(Select Team)"}].concat(a)})})).catch((function(e){console.log(e)}))}},{key:"componentDidMount",value:function(){console.log("LeagueSelection componentDidMount ".concat(this.props.leagueId)),this.updateTeams(this.props.leagueId)}},{key:"render",value:function(){var e=this;return console.log("in render"),o.a.createElement("div",null,o.a.createElement("select",{style:{marginTop:"10px"},value:this.state.selectedTeam,onChange:function(t){e.setState({selectedTeam:t.target.value,validationError:""===t.target.value?"You must select your team":""});var a=t.target,n=a.options,o=a.selectedIndex;console.log(n[o].innerHTML),e.fetchStandings(t.target.value)}},this.state.teams.map((function(e){return o.a.createElement("option",{key:e.value,value:e.value},e.display)}))),o.a.createElement("div",{style:{color:"blue",marginTop:"10px"}},this.state.countryName," ",this.state.leagueName," ",this.state.standings))}}]),a}(o.a.Component),p=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={teams:[],selectedTeam:"",validationError:""},n.teamSelectionElement=o.a.createRef(),n}return Object(r.a)(a,[{key:"updateLeagues",value:function(e){var t=this;console.log("LeagueSelection updateLeagues ".concat(e)),d()("/football/leagues/".concat(e)).then((function(e){return console.log("in componentDidMount response - ".concat(JSON.stringify(e))),e.json()})).then((function(e){var a=[];e.forEach((function(e){console.log("element is ".concat(e.league_name)),a.push({value:e.league_id,display:e.league_name})})),console.log("teamsFromApi is ".concat(a)),t.setState({teams:[{value:"",display:"(Select League)"}].concat(a)})})).catch((function(e){console.log(e)}))}},{key:"componentDidMount",value:function(){console.log("LeagueSelection componentDidMount ".concat(this.props.countryId)),this.updateLeagues(this.props.countryId)}},{key:"render",value:function(){var e=this;return console.log("in render"),o.a.createElement("div",null,o.a.createElement("select",{style:{marginTop:"10px"},value:this.state.selectedTeam,onChange:function(t){e.setState({selectedTeam:t.target.value,validationError:""===t.target.value?"You must select your league":""});var a=t.target,n=a.options,o=a.selectedIndex;console.log(n[o].innerHTML),e.teamSelectionElement.current&&(console.log("u[dafe ifs0i09"),e.teamSelectionElement.current.updateTeams(t.target.value))}},this.state.teams.map((function(e){return o.a.createElement("option",{key:e.value,value:e.value},e.display)}))),""!==this.state.selectedTeam&&o.a.createElement(g,{ref:this.teamSelectionElement,leagueId:this.state.selectedTeam}),o.a.createElement("div",{style:{color:"red",marginTop:"5px"}},this.state.validationError))}}]),a}(o.a.Component),v=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={teams:[],selectedTeam:"",validationError:""},n.leagueSelectionElement=o.a.createRef(),n}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this;console.log("in componentDidMount"),d()("/football/getCountries").then((function(e){return console.log("in componentDidMount response - ".concat(JSON.stringify(e))),e.json()})).then((function(t){var a=[];t.forEach((function(e){console.log("element is ".concat(e.country_name)),a.push({value:e.country_id,display:e.country_name})})),console.log("teamsFromApi is ".concat(a)),e.setState({teams:[{value:"",display:"(Select your favourite country)"}].concat(a)})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;return console.log("in render"),o.a.createElement("div",null,o.a.createElement("div",{style:{color:"black",marginTop:"40px"}},"Football Standings"),o.a.createElement("select",{style:{marginTop:"10px"},value:this.state.selectedTeam,onChange:function(t){e.setState({selectedTeam:t.target.value,validationError:""===t.target.value?"You must select your favourite country":""});var a=t.target,n=a.options,o=a.selectedIndex;console.log(n[o].innerHTML),e.props.updateInput(t.target.value),e.leagueSelectionElement.current&&(console.log("u[dafe ifs0i09"),e.leagueSelectionElement.current.updateLeagues(t.target.value))}},this.state.teams.map((function(e){return o.a.createElement("option",{key:e.value,value:e.value},e.display)}))),""!==this.state.selectedTeam&&o.a.createElement(p,{ref:this.leagueSelectionElement,countryId:this.state.selectedTeam}),o.a.createElement("div",{style:{color:"red",marginTop:"5px"}},this.state.validationError))}}]),a}(o.a.Component),h=(a(14),function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).setAppState(""),e}return Object(r.a)(a,[{key:"render",value:function(){return console.log("render in App"),o.a.createElement("div",{className:"App"},o.a.createElement(v,{updateInput:this.handleCountrySelected}))}},{key:"handleCountrySelected",value:function(e){}},{key:"setAppState",value:function(e){switch(e){case"league":this.setState({showLeague:!0});break;case"team":this.setState({showTeam:!0});break;default:this.setState({showLeague:!1,showTeam:!1})}}}]),a}(n.Component));c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(h,null)),document.getElementById("root"))},8:function(e,t,a){e.exports=a(15)}},[[8,1,2]]]);
//# sourceMappingURL=main.d327de67.chunk.js.map